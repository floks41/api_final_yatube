# –ü—Ä–æ–µ–∫—Ç API –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –±–ª–æ–≥–µ—Ä–æ–≤.

## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
[![Python](https://img.shields.io/badge/-Python-464646?style=flat-square&logo=Python)](https://www.python.org/)
[![Django](https://img.shields.io/badge/-Django-464646?style=flat-square&logo=Django)](https://www.djangoproject.com/)

- Python 3.9
- Django 2.2.16
- Django REST framework 3.12.4
- Django REST framework simple JWT 4.7.2
### –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:

üë®üèº‚Äçüíª–û–ª–µ–≥ –ß—É–∂–º–∞—Ä–æ–≤: https://github.com/floks41

## –û–ø–∏—Å–∞–Ω–∏–µ

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞: –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (api) –∫ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –±–ª–æ–≥–µ—Ä–æ–≤. –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ api –ø–æ–∑–≤–æ–ª–∏—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –±–µ–∫–µ–Ω–¥—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤ —Ç–æ–º —á–∏—Å–ª–µ, –≤–µ–±-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–±—Ä–∞—É–∑–µ—Ä–æ–≤, –¥–µ—Å–∫—Ç–æ–ø–Ω—ã–µ –∏ –º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.


## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç:

–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –Ω–µ–≥–æ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ:

```
git clone git@github.com:floks41/api_final_yatube.git
```

–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–µ–∫—Ç–∞

```
cd api_final_yatube
```

C–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

```
python3 -m venv venv
```

```
source env/bin/activate
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ —Ñ–∞–π–ª–∞ requirements.txt, –¥–ª—è –ø–µ—Ä–µ–¥ —ç—Ç–∏–º –æ–±–Ω–æ–≤–∏—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤:

```
python3 -m pip install --upgrade pip
```

pip install -r requirements.txt
–í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:

```
python3 manage.py migrate
```

–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç:

```
python3 manage.py runserver
```

–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
cd yatube_api
```

## –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

Api –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç—É `/redoc/`.

### –î–æ—Å—Ç—É–ø –∫ api

–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Å–≤–æ–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞; –≤ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö –¥–æ—Å—Ç—É–ø –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è, —ç–Ω–¥–ø–æ–∏–Ω—Ç `/follow/` –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

–î–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è JWT-—Ç–æ–∫–µ–Ω—ã.

**–ü–æ–ª—É—á–∏—Ç—å JWT-—Ç–æ–∫–µ–Ω: POST** `/api/v1/jwt/create/`

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞. –í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.

```json
{
    "username": "string",
    "password": "string"
}
```

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
    "refresh": "–∑–¥–µ—Å—å —Ç–æ–∫–µ–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è",
    "access": "–∑–¥–µ—Å—å —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞"
}
```

**–û–±–Ω–æ–≤–∏—Ç—å JWT-—Ç–æ–∫–µ–Ω: POST** `/api/v1/jwt/refresh/`

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞. –í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.

```json
{
    "refresh": "–∑–¥–µ—Å—å —Ç–æ–∫–µ–Ω"
}
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å JWT-—Ç–æ–∫–µ–Ω: POST** `/api/v1/jwt/verify/`

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞. –í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.

```json
{
    "token": "–∑–¥–µ—Å—å —Ç–æ–∫–µ–Ω"
}
```

### –ü–æ—Å—Ç—ã

**GET** `/api/v1/posts/` c –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ limit –∏ offset –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤ —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
    "count": 123,
    "next": "http://api.example.org/accounts/?offset=400&limit=100",
    "previous": "http://api.example.org/accounts/?offset=200&limit=100",
    "results": [{
        "id": 0,
        "author": "string",
        "text": "string",
        "pub_date": "2021-10-14T20:41:29.648Z",
        "image": "string",
        "group": 0
    }]
}
```

**POST** `/api/v1/posts/` —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞. –ü–æ–ª–µ `text` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ.

```json
{
    "text": "string",
    "image": "string",
    "group": 0
}
```

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
    "id": 0,
    "author": "string",
    "text": "string",
    "pub_date": "2019-08-24T14:15:22Z",
    "image": "string",
    "group": 0
}
```

–ü–æ–ª—É—á–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Å—Ç **GET** `/api/v1/posts/{id}/`. –¢–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ **PUT**, **PATCH**, –ø–æ–ª—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã –∑–∞–ø—Ä–æ—Å—É –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞. –ó–∞–ø—Ä–æ—Å **DELETE** –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

**GET** `/api/v1/posts/{post_id}/comments/` –∑–∞–ø—Ä–æ—Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –ø–æ—Å—Ç—É.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
[
    {
        "id": 0,
        "author": "string",
        "text": "string",
        "created": "2019-08-24T14:15:22Z",
        "post": 0
    }
]
```

**POST** `/api/v1/posts/{post_id}/comments/` —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –∫ –ø–æ—Å—Ç—É. –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞. –ü–æ–ª–µ `text` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ.

```json
{
    "text": "–¢–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è"
}
```

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
    "id": 0,
    "author": "string",
    "text": "string",
    "created": "2019-08-24T14:15:22Z",
    "post": 0
}
```

**GET** `/api/v1/posts/{post_id}/comments/{id}/` –∑–∞–ø—Ä–æ—Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
    "id": 0,
    "author": "string",
    "text": "string",
    "created": "2019-08-24T14:15:22Z",
    "post": 0
}
```

–¢–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ **PUT**, **PATCH**, –ø–æ–ª—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã –∑–∞–ø—Ä–æ—Å—É –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ó–∞–ø—Ä–æ—Å **DELETE** –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

### –°–æ–æ–±—â–µ—Å—Ç–≤–∞

**GET** `/api/v1/groups/` –∑–∞–ø—Ä–æ—Å –ø–µ—Ä–µ—á–Ω—è —Å–æ–æ–±—â–µ—Å—Ç–≤.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
[
    {
        "id": 0,
        "title": "string",
        "slug": "string",
        "description": "string"
    }
]
```

**GET** `/api/v1/groups/{id}/` –∑–∞–ø—Ä–æ—Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ–æ–±—â–µ—Å—Ç–≤–µ.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
    "id": 0,
    "title": "string",
    "slug": "string",
    "description": "string"
}
```

### –ü–æ–¥–ø–∏—Å–∫–∏

–î–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

**GET** `/api/v1/follow/` –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–¥–µ–ª–∞–≤—à–µ–≥–æ –∑–∞–ø—Ä–æ—Å. –ê–Ω–æ–Ω–∏–º–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∑–∞–ø—Ä–µ—â–µ–Ω—ã.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
[
   {
       "user": "string",
       "following": "string"
   }
]
```

**POST** `/api/v1/follow/` –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç –∏–º–µ–Ω–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–¥–µ–ª–∞–Ω –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞. –ê–Ω–æ–Ω–∏–º–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∑–∞–ø—Ä–µ—â–µ–Ω—ã. –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞, –ø–æ–ª–µ `following` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.

```json
{
    "following": "username"
}
```

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
    "user": "string",
    "following": "string"
}
```
